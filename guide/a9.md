# A9

阅读 P523 对应章节至  things-to-do，对照着看。

+ verify-scheme

同样的，我们没有这个 Pass，但是  ParseExpr 改成了 ParseScheme。Syntax 中新增了 Scheme。


+ UncoverLocals

+ RemoveLet

+ CompileToExpr

这将会是一个非常简单的直译过程。

多一个 Scheme enum 的好处有几个：一个是 Scheme 将与 Expr 内部的数据结构分离。二是 Scheme 可以在前端提供一些更高级的功能，而不必修改原来的 Expr 的语法。举例来说，Expr 中的 Funcall 是

```rs
Funcall (String, Vec<Expr>)
```

这使得函数作为返回值无法实现。但在 Scheme 中却可以先实现，然后再编译到 Expr 。